<div ng-if="display" >
    <!-- <div class="row">
        <strong  class="col-xs-12 col-md-12 showRelatedData"><small><a ng-click="toggleShow()">{{showOrHide()}} related data</a></small></strong>
    </div> -->
    <!-- <hr style="border-color:#ddd;"> -->
    <!-- <strong style="margin-left:2px; margin-top:3px;"><small>Add {{to.btnText}}</small></strong> -->
    <div ng-if="!hide">
        <div ng-if="!showCreate()"  style="text-align:center">
            <div ng-if="showSearch()" class=" cleanBtnCornerRight">
                <div class="form-group">
                    <div ng-class="options.templateOptions.colSize">
                        <div  class="form-material" ng-class="options.templateOptions.color">
                        
                            <autocomplete
                                    ng-if="options.templateOptions.id"
                                    placeholder="{{placeholder}}"
                                    model-name="{{to.model}}"
                                    search-property="{{to.searchProp}}"
                                    value="model[options.key]"
                                    where="to.where"
                                    foreign-key= "{{to.foreignKey}}"
                                    model= "model"
                                    load="to.load"
                                    where-validation="to.whereValidation"
                                    display-property="to.displayProperty"
                                    name="{{getName()}}" id="{{getId()}}" >
                            </autocomplete>
                            <autocomplete
                                    ng-if="!options.templateOptions.id"
                                    placeholder="{{placeholder}}"
                                    model-name="{{to.model}}"
                                    search-property="{{to.searchProp}}"
                                    value="model[options.key]"
                                    foreign-key= "{{to.foreignKey}}"
                                    model= "model"
                                    where="to.where"
                                    load="to.load"
                                    where-validation="to.whereValidation"
                                    display-property="to.displayProperty"
                                    name="{{getName()}}" id="{{getId()}}">
                            </autocomplete>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-if="to.create" class="AddNewButton col-md-3 col-xs-12 cleanBtnCornerLeft">
                <button type="button"  style="height:36px;"   class="btn btn-md btn-default" ng-click="forceDisplay()" >{{to.btnText}}</button>
            </div>
        </div>

        <div ng-if="showCreate()">
            <div  ng-if="to.create" class="repeatsection" >
                <formly-form fields="to.fields"
                             ng-init="model[options.key] = {}"
                             model="model[options.key]"
                             form="form">
                </formly-form>
                <div class="form-group">
                    <div  class="col-xs-12 text-right">
                        <button type="button" class="btn btn-sm btn-danger " ng-click="resetCreate()">
                            Remove {{to.model}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>